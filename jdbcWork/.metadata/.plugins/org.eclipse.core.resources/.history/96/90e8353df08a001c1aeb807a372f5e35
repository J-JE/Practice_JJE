package com.kh.view;

import java.util.ArrayList;
import java.util.Scanner;

import com.kh.controller.ProductController;
import com.kh.model.vo.ProductIO;

public class ProductMenu {
	private static Scanner sc = new Scanner(System.in);
	private ProductController pController = new ProductController();

	public void mainMenu() {
		int menu;
		
		do {
			System.out.println("\n=== 입출고 메뉴 ===");
			System.out.println("1. 전체 조회");
			System.out.println("2. 상품 추가");
			System.out.println("3. 상품 수정");
			System.out.println("4. 상품 삭제");
			System.out.println("5. 상품 검색");
			System.out.println("6. 상품 입출고 메뉴");
			System.out.println("9. 메인 메뉴로 돌아가기");
			System.out.println("번호선택 : ");
			
			menu = sc.nextInt();
			switch(menu) {
			case 1:
				pController.selectAll();
				break;
			case 2 :
				pController.insertProduct(insertProduct());
				break;
			case 3:
				pController.updateProduct(insertPid());
				break;
			case 4 :
				pController.deleteProduct(insertPid());
				break;
			case 5 :
				pController.searchProduct(insertPname());
				break;
			case 6 :
				subMenu();
				break;
			case 9 :
				return;
			default :
				System.out.println("번호를 잘못 입력하였습니다.");
				break;
			}
			
		}while(true);
		
	}
	
	public void subMenu() {
		
		int menu;
		
		do {
			System.out.println("\n=== 입출고 메뉴 ===");
			System.out.println("1. 전체 입출고 내역 조회");
			System.out.println("2. 입고 내역 조회");
			System.out.println("3. 출고 내역 조회");
			System.out.println("4. 상품 입고");
			System.out.println("5. 상품 출고");
			System.out.println("9. 메인 메뉴로 돌아가기");
			System.out.println("번호선택 : ");
			
			menu = sc.nextInt();
			switch(menu) {
			case 1:
				pController.selectAllIo();
				break;
			case 2 :
				pController.selectInOut(0);
				break;
			case 3:
				pController.selectInOut(1);
				break;
			case 4 :
				pController.productInOut(productInOut(0));
				break;
			case 5 :
				pController.productInOut(productInOut(1));
				break;
			case 9 :
				return;
			default :
				System.out.println("번호를 잘못 입력하였습니다.");
				break;
			}
			
		}while(true);
		
	}

	private ProductIO productInOut(int i) {
		ProductIO p = new ProductIO();
		System.out.println("상품 아이디 : ");
		p.setProductId(sc.next());
		if(i == 0) {
			System.out.println("입고 수량 : ");
			p.setAmount(sc.nextInt());
			p.setStatus("입고");
		}else if (i == 1) {
			System.out.println("출고 수량 : ");
			p.setAmount(sc.nextInt());
			p.setStatus("출고");
		}
		
		return p;
	}

	public void displayProductList(ArrayList<ProductIO> list) {
		System.out.println("====================== 입출고 리스트 ======================");
		System.out.println("입출고번호\t상품ID\t상품명\t입출고일\t\t입출고수량\t입출고상태");
		
		for(ProductIO p : list) {
			System.out.println(p);
		}
	}

	public void displayError(String message) {
		System.out.println("서비스 요청 실패 : "+message);
	}

	public void displaySuccess(String message) {
		System.out.println("서비스 요청 성공 : " + message);
	}

	public void displayNoData() {
		System.out.println();
	}



}
